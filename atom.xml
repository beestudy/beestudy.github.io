<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>日常筑巢计划</title>
  
  <subtitle>beestudy</subtitle>
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2020-11-24T04:50:12.767Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>bee</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>linux练习题目</title>
    <link href="http://example.com/2020/11/24/studytwo/"/>
    <id>http://example.com/2020/11/24/studytwo/</id>
    <published>2020-11-24T03:34:00.000Z</published>
    <updated>2020-11-24T04:50:12.767Z</updated>
    
    <content type="html"><![CDATA[<h2 id="日常练习题目"><a href="#日常练习题目" class="headerlink" title="日常练习题目"></a>日常练习题目</h2><h3 id="1-查看当前目录"><a href="#1-查看当前目录" class="headerlink" title="1.查看当前目录"></a>1.查看当前目录</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">pwd</span></span></span><br></pre></td></tr></table></figure><h3 id="2-切换到上一层目录"><a href="#2-切换到上一层目录" class="headerlink" title="2.切换到上一层目录"></a>2.切换到上一层目录</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">cd</span> ..</span></span><br></pre></td></tr></table></figure><h3 id="3-切换到上一次目录"><a href="#3-切换到上一次目录" class="headerlink" title="3. 切换到上一次目录"></a>3. 切换到上一次目录</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">cd</span> -</span></span><br></pre></td></tr></table></figure><h3 id="4-高危命令有哪些"><a href="#4-高危命令有哪些" class="headerlink" title="4. 高危命令有哪些"></a>4. 高危命令有哪些</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">echo</span> <span class="string">&quot;&quot;</span> &gt; 1.long</span></span><br></pre></td></tr></table></figure><p>此命令会覆盖1.log</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> rm -rf /</span></span><br></pre></td></tr></table></figure><p>此命令会强制删除/下的所有文件</p><h3 id="5-文件夹相关的命令有哪些"><a href="#5-文件夹相关的命令有哪些" class="headerlink" title="5. 文件夹相关的命令有哪些"></a>5. 文件夹相关的命令有哪些</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> mkdir     创建</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> du -sh     查看文件夹大小</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> cp  复制</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> mv          移动</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> chmod/chown    权限相关</span></span><br></pre></td></tr></table></figure><h3 id="6-常用的-R参数的命令"><a href="#6-常用的-R参数的命令" class="headerlink" title="6. 常用的-R参数的命令"></a>6. 常用的-R参数的命令</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> chmod -R</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> chown -R</span></span><br></pre></td></tr></table></figure><p>此处的-R意为：处理指定目录以及其子目录下的所有文件<br>在整个linux命令生涯中，只有这两个是大R参数。其他表示递归 文件夹的 都是小r</p><h3 id="7-vi命令，简述编辑保存流程的快捷键"><a href="#7-vi命令，简述编辑保存流程的快捷键" class="headerlink" title="7. vi命令，简述编辑保存流程的快捷键"></a>7. vi命令，简述编辑保存流程的快捷键</h3><p>vi，i，esc，ctrl+：，wq</p><h3 id="8-绝对路径和相对路径的区别"><a href="#8-绝对路径和相对路径的区别" class="headerlink" title="8. 绝对路径和相对路径的区别"></a>8. 绝对路径和相对路径的区别</h3><p>绝对路径：/根目录开头，路径是齐全的<br>相对路径：不是以/开头，路径是短的<br>在编写shell的时候，尽量使用绝对路径</p><h3 id="9-隐藏文件或文件夹如何查看，有何特点"><a href="#9-隐藏文件或文件夹如何查看，有何特点" class="headerlink" title="9. 隐藏文件或文件夹如何查看，有何特点"></a>9. 隐藏文件或文件夹如何查看，有何特点</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ll -a</span></span><br></pre></td></tr></table></figure><p>隐藏文件和文件夹都是以.开头</p><h3 id="10-如何查找服务器上，名称含有xx的文件"><a href="#10-如何查找服务器上，名称含有xx的文件" class="headerlink" title="10. 如何查找服务器上，名称含有xx的文件"></a>10. 如何查找服务器上，名称含有xx的文件</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> find / -name <span class="string">&#x27;*xx*&#x27;</span></span></span><br></pre></td></tr></table></figure><h3 id="11-级联创建文件夹参数是什么"><a href="#11-级联创建文件夹参数是什么" class="headerlink" title="11.级联创建文件夹参数是什么"></a>11.级联创建文件夹参数是什么</h3><p>-p</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> mkdir -p 1 2 3</span></span><br></pre></td></tr></table></figure><h3 id="12-移动复制什么区别，是否可以改名"><a href="#12-移动复制什么区别，是否可以改名" class="headerlink" title="12.移动复制什么区别，是否可以改名"></a>12.移动复制什么区别，是否可以改名</h3><p>复制最终产生两份文件    速度慢<br>移动最终只有一份文件    速度快<br>都可以改名</p><h3 id="13-rwx分别代表数字多少"><a href="#13-rwx分别代表数字多少" class="headerlink" title="13.rwx分别代表数字多少"></a>13.rwx分别代表数字多少</h3><p>r-&gt;4 w-&gt;2 x-&gt;1</p><h3 id="14-rwxr–r-x-数字多少"><a href="#14-rwxr–r-x-数字多少" class="headerlink" title="14.rwxr–r-x  数字多少"></a>14.rwxr–r-x  数字多少</h3><p>rwx -&gt;7     r– -&gt;4     r-x -&gt;5<br>所以就是745</p><h3 id="15-rwxr–r-x-代表什么"><a href="#15-rwxr–r-x-代表什么" class="headerlink" title="15. rwxr–r-x 代表什么"></a>15. rwxr–r-x 代表什么</h3><p>所属用户,所属用户组其他成员,其他用户组成员<br>文件的所有者具有读写执权限<br>文件所属组的用户只有读权限<br>其他组的用户具有读执权限</p><h3 id="16-查看命令帮助-要看什么"><a href="#16-查看命令帮助-要看什么" class="headerlink" title="16.查看命令帮助, 要看什么"></a>16.查看命令帮助, 要看什么</h3><p>命令 –help，看usage用法还有option选项 命令后跟的参数<br>【】为可选参数</p><h3 id="17-发现一个用户登录不上或者无法执行命令，是什么文件问题"><a href="#17-发现一个用户登录不上或者无法执行命令，是什么文件问题" class="headerlink" title="17.发现一个用户登录不上或者无法执行命令，是什么文件问题"></a>17.发现一个用户登录不上或者无法执行命令，是什么文件问题</h3><p>/etc/passwd</p><h3 id="18-切换用户带-，表示什么"><a href="#18-切换用户带-，表示什么" class="headerlink" title="18.切换用户带  -，表示什么"></a>18.切换用户带  -，表示什么</h3><p>切换该用户并执行该用户的环境变量</p><h3 id="19-临时获取root权限-，会配置吗？-执行要加什么？"><a href="#19-临时获取root权限-，会配置吗？-执行要加什么？" class="headerlink" title="19.临时获取root权限 ，会配置吗？ 执行要加什么？"></a>19.临时获取root权限 ，会配置吗？ 执行要加什么？</h3><p>使用root用户在/etc/sudoers 给用户加上ALL，如:ruozedata  ALL=(ALL)       ALL<br>执行加sudo</p><h3 id="20-vi命令的三种模式"><a href="#20-vi命令的三种模式" class="headerlink" title="20.vi命令的三种模式"></a>20.vi命令的三种模式</h3><p>命令行模式、编辑模式、尾行模式</p><h3 id="21-tail-f-和tail-F-区别"><a href="#21-tail-f-和tail-F-区别" class="headerlink" title="21.tail -f 和tail -F 区别"></a>21.tail -f 和tail -F 区别</h3><p>-f   假如文件被移除 然后重命名 就无法再监控到文件<br>-F   假如文件被移除 然后重命名 会不断的retry尝试 去监控文件，直到监控到位<br>-F = -f +retry</p><h3 id="22-管道符是什么-，过滤是什么"><a href="#22-管道符是什么-，过滤是什么" class="headerlink" title="22.管道符是什么 ，过滤是什么"></a>22.管道符是什么 ，过滤是什么</h3><p>管道符 |     一个命令的标准输出传送到另一个命令的标准输入中<br>过滤 grep</p><h3 id="23-别名语法是什么"><a href="#23-别名语法是什么" class="headerlink" title="23.别名语法是什么"></a>23.别名语法是什么</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">alias</span> p= <span class="string">&#x27;&#x27;</span></span></span><br></pre></td></tr></table></figure><h3 id="24-个人环境变量用-bash-profile还是-bashrc"><a href="#24-个人环境变量用-bash-profile还是-bashrc" class="headerlink" title="24.个人环境变量用 .bash_profile还是.bashrc"></a>24.个人环境变量用 .bash_profile还是.bashrc</h3><p>用.bashrc</p><h3 id="25-tab按1次-，2次分别什么意思"><a href="#25-tab按1次-，2次分别什么意思" class="headerlink" title="25.tab按1次 ，2次分别什么意思"></a>25.tab按1次 ，2次分别什么意思</h3><p>tab键一次，只有1个命令自动补全<br>按二次，会把当前匹配到的所有打印出来，再挑选</p><h3 id="26-history-c-是干什么"><a href="#26-history-c-是干什么" class="headerlink" title="26.history -c 是干什么"></a>26.history -c 是干什么</h3><p>清空历史命令(堡垒机无效哦)</p><h3 id="27-chmod-R-777-这个命令生产上是否允许执行？"><a href="#27-chmod-R-777-这个命令生产上是否允许执行？" class="headerlink" title="27.chmod -R 777 /  这个命令生产上是否允许执行？"></a>27.chmod -R 777 /  这个命令生产上是否允许执行？</h3><p>不允许,会把根目录下所有文件所有用户都可以读写执行了，执行了就等于开放所有文件的所有权限给所有人了</p><h3 id="28-除了ftp-sftp上传下载工具，还有什么命令？"><a href="#28-除了ftp-sftp上传下载工具，还有什么命令？" class="headerlink" title="28.除了ftp sftp上传下载工具，还有什么命令？"></a>28.除了ftp sftp上传下载工具，还有什么命令？</h3><p>rz(上传) sz(下载)<br>默认系统不自带，安装命令是<br>sudo yum install lrzsz -y</p><h3 id="29-使用vi去粘贴内容到文件中，必须在什么模式下，第一行才不会丢失数据？"><a href="#29-使用vi去粘贴内容到文件中，必须在什么模式下，第一行才不会丢失数据？" class="headerlink" title="29. 使用vi去粘贴内容到文件中，必须在什么模式下，第一行才不会丢失数据？"></a>29. 使用vi去粘贴内容到文件中，必须在什么模式下，第一行才不会丢失数据？</h3><p>编辑模式</p><h3 id="30-vi清空文件内容，最关键的两个命令是什么"><a href="#30-vi清空文件内容，最关键的两个命令是什么" class="headerlink" title="30. vi清空文件内容，最关键的两个命令是什么"></a>30. vi清空文件内容，最关键的两个命令是什么</h3><p>在命令行模式中，gg + dG<br>gg 跳转到第一行的第一个字母<br>dG 删除当前行及以下所有行</p><h3 id="31-经典错误1是什么，大概什么导致"><a href="#31-经典错误1是什么，大概什么导致" class="headerlink" title="31.经典错误1是什么，大概什么导致"></a>31.经典错误1是什么，大概什么导致</h3><p>command not found<br>要不就是没有安装，yum安装或者tar解压安装<br>要不就是安装好了，没有配置环境变量  到PATH里配置</p><h3 id="32-经典错误2是什么，大概什么导致"><a href="#32-经典错误2是什么，大概什么导致" class="headerlink" title="32.经典错误2是什么，大概什么导致"></a>32.经典错误2是什么，大概什么导致</h3><p>permission denied<br>首先分析出 你去访问是什么用户===》 文件或者文件夹是什么用户对应什么权限、什么用户组对应什么权限、其他用户对应什么权限，一一比对<br>是否可以满足访问的需求：如  读、写、执行<br>如果不满足，则：<br>2.1 修改对应权限 chmod<br>2.2 修改所属用户或者用户组  chown<br>2.3 切换对应的所属用户来操作（一般所属的用户的权限是 rwx）</p><h3 id="33-rwx分别代表什么"><a href="#33-rwx分别代表什么" class="headerlink" title="33. rwx分别代表什么"></a>33. rwx分别代表什么</h3><p>读 写 执行 421</p><h3 id="34-r–r—-x-数字多少"><a href="#34-r–r—-x-数字多少" class="headerlink" title="34.r–r—-x  数字多少"></a>34.r–r—-x  数字多少</h3><p>441</p><h3 id="35-切换用户命令是什么，带-有什么作用"><a href="#35-切换用户命令是什么，带-有什么作用" class="headerlink" title="35.切换用户命令是什么，带-  有什么作用"></a>35.切换用户命令是什么，带-  有什么作用</h3><p>su    带-表示切换到用户的家目录</p><h3 id="36-临时最大权限的命令是什么，该怎么配置？"><a href="#36-临时最大权限的命令是什么，该怎么配置？" class="headerlink" title="36.临时最大权限的命令是什么，该怎么配置？"></a>36.临时最大权限的命令是什么，该怎么配置？</h3><p>sudo   编辑/etc/sudoers  添加ruozedata(用户名)  ALL=(ALL)       ALL</p><h3 id="37-vi-简述编辑流程的快捷键"><a href="#37-vi-简述编辑流程的快捷键" class="headerlink" title="37.vi 简述编辑流程的快捷键"></a>37.vi 简述编辑流程的快捷键</h3><p>i    –&gt;编辑模式<br>编辑内容<br>esc    –&gt;退出编辑模式<br>shift+:    –&gt;尾行模式<br>wq    –&gt;保存退出</p><h3 id="38-全局环境变量在哪，怎么生效"><a href="#38-全局环境变量在哪，怎么生效" class="headerlink" title="38.全局环境变量在哪，怎么生效"></a>38.全局环境变量在哪，怎么生效</h3><p>/etc/profile    source或者. 生效</p><h3 id="39-个人环境变量文件默认在哪？一般使用哪个？-个人环境变量文件一定在默认位置吗？"><a href="#39-个人环境变量文件默认在哪？一般使用哪个？-个人环境变量文件一定在默认位置吗？" class="headerlink" title="39.个人环境变量文件默认在哪？一般使用哪个？ 个人环境变量文件一定在默认位置吗？"></a>39.个人环境变量文件默认在哪？一般使用哪个？ 个人环境变量文件一定在默认位置吗？</h3><p>一般存放在当前用户的家目录<br><del>/.bash_profile 和</del>/.bashrc位置<br>一般使用/.bashrc</p><h3 id="40-声明环境变量-必须类似这样-export-JAVA-HOME-usr-java-jdk1-8，是否有问题？"><a href="#40-声明环境变量-必须类似这样-export-JAVA-HOME-usr-java-jdk1-8，是否有问题？" class="headerlink" title="40.声明环境变量  必须类似这样  export  JAVA_HOME = /usr/java/jdk1.8，是否有问题？"></a>40.声明环境变量  必须类似这样  export  JAVA_HOME = /usr/java/jdk1.8，是否有问题？</h3><p>exprot JAVA_HOME=/usr/java/jdk1.8<br>export PATH=$JAVA_HOME/bin:$PATH【推荐】<br>=前后不能有空格<br>在环境变量文件 PATH=$JAVA_HOME/bin:$PATH    这样写法一般在最后，是声明JAVA的bin文件夹的可执行文件 java，这样敲命令 java，就能够找到</p><h3 id="41-发现用户无法登录或者无法执行命令-，有可能什么文件导致？"><a href="#41-发现用户无法登录或者无法执行命令-，有可能什么文件导致？" class="headerlink" title="41.发现用户无法登录或者无法执行命令 ，有可能什么文件导致？"></a>41.发现用户无法登录或者无法执行命令 ，有可能什么文件导致？</h3><p>/etc/passwd文件中用户的最后一段为 /bin/false<br>mysqladmin:x:514:101::/usr/local/mysql:/bin/bash</p><h3 id="42-同事给你交接服务器，就简单交接，请问拿到服务器，一般操作什么？"><a href="#42-同事给你交接服务器，就简单交接，请问拿到服务器，一般操作什么？" class="headerlink" title="42.同事给你交接服务器，就简单交接，请问拿到服务器，一般操作什么？"></a>42.同事给你交接服务器，就简单交接，请问拿到服务器，一般操作什么？</h3><p>查看一下常规操作有哪些，搜索一下相应的软件包在什么地方。查看内网，外网的端口，有sudo权限的用户。<br>find / -name ‘<em>xxx</em>‘ 查看部署内容和位置<br>history</p><h3 id="43-在生产上常见错误是什么-，当前讲了两个"><a href="#43-在生产上常见错误是什么-，当前讲了两个" class="headerlink" title="43.在生产上常见错误是什么 ，当前讲了两个"></a>43.在生产上常见错误是什么 ，当前讲了两个</h3><p>commond not found命令找不到和permission defined权限错误</p><h3 id="44-sudo-su-分别做什么，sudo-su-jepson-这样执行是否OK？"><a href="#44-sudo-su-分别做什么，sudo-su-jepson-这样执行是否OK？" class="headerlink" title="44.sudo  su 分别做什么，sudo su - jepson  这样执行是否OK？"></a>44.sudo  su 分别做什么，sudo su - jepson  这样执行是否OK？</h3><p>sudo普通用户临时切换root的权限，su切换用户<br>可以执行</p><h2 id="面试题"><a href="#面试题" class="headerlink" title="面试题"></a>面试题</h2><h3 id="想要把xx这个用户的主族和附加组调换"><a href="#想要把xx这个用户的主族和附加组调换" class="headerlink" title="想要把xx这个用户的主族和附加组调换"></a>想要把xx这个用户的主族和附加组调换</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> usermod -g dw xx 强制dw为xx的主族，但是会丢失xx附加组</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> usermod -aG xx xx 增加xx附加组</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;日常练习题目&quot;&gt;&lt;a href=&quot;#日常练习题目&quot; class=&quot;headerlink&quot; title=&quot;日常练习题目&quot;&gt;&lt;/a&gt;日常练习题目&lt;/h2&gt;&lt;h3 id=&quot;1-查看当前目录&quot;&gt;&lt;a href=&quot;#1-查看当前目录&quot; class=&quot;headerlink&quot; </summary>
      
    
    
    
    
    <category term="linux" scheme="http://example.com/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>linux命令</title>
    <link href="http://example.com/2020/11/22/studyone/"/>
    <id>http://example.com/2020/11/22/studyone/</id>
    <published>2020-11-22T10:34:00.000Z</published>
    <updated>2020-11-26T13:02:30.340Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Linux常用命令"><a href="#Linux常用命令" class="headerlink" title="Linux常用命令"></a>Linux常用命令</h1><h2 id="pwd"><a href="#pwd" class="headerlink" title="pwd"></a>pwd</h2><p> 查看当前光标所在的目录（目录，即path）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">pwd</span></span></span><br></pre></td></tr></table></figure><p><img src="/img/studyone/studyoneone.png" alt="avatar"><br>/代表根</p><h2 id="ls"><a href="#ls" class="headerlink" title="ls"></a>ls</h2><p> 显示文件夹和文件的名称</p><h3 id="ll"><a href="#ll" class="headerlink" title="ll"></a>ll</h3><p> 可以看到权限、用户用户组 时间 大小等额外信息</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ls -l</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ll</span></span><br></pre></td></tr></table></figure><h3 id="ll-a"><a href="#ll-a" class="headerlink" title="ll -a"></a>ll -a</h3><p>可以显示隐藏文件夹和文件（隐藏文件夹和文件一般为.开头）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ls -l -a</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ll -a</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ls -la</span></span><br></pre></td></tr></table></figure><h3 id="ll-h"><a href="#ll-h" class="headerlink" title="ll -h"></a>ll -h</h3><p>仅仅查看文件的大小，文件夹不行</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ls -l -h</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ll -h</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ls -lh</span></span><br></pre></td></tr></table></figure><h3 id="ll-rt"><a href="#ll-rt" class="headerlink" title="ll -rt"></a>ll -rt</h3><p>按时间排序 -r 表示排序 -t表示时间</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ls -l -r -t</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ll -rt</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ls -lrt</span></span><br></pre></td></tr></table></figure><h2 id="mkdir"><a href="#mkdir" class="headerlink" title="mkdir"></a>mkdir</h2><p>创建文件夹</p><h3 id="并联创建文件夹"><a href="#并联创建文件夹" class="headerlink" title="并联创建文件夹"></a>并联创建文件夹</h3><p>文件1 2 3在同一层</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> mkdir 1 2 3</span></span><br></pre></td></tr></table></figure><h3 id="串联创建文件夹-级联"><a href="#串联创建文件夹-级联" class="headerlink" title="串联创建文件夹 级联"></a>串联创建文件夹 级联</h3><p>文件5在文件4内 文件6在文件5内</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> mkdir -p 4/5/6</span></span><br></pre></td></tr></table></figure><h2 id="cd"><a href="#cd" class="headerlink" title="cd"></a>cd</h2><p>切换目录（路径path）</p><h3 id="切换到指定目录"><a href="#切换到指定目录" class="headerlink" title="切换到指定目录"></a>切换到指定目录</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">cd</span> [dirName]</span></span><br></pre></td></tr></table></figure><p>dirName:要切换的目标目录</p><h3 id="切换到上一层目录"><a href="#切换到上一层目录" class="headerlink" title="切换到上一层目录"></a>切换到上一层目录</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">cd</span> ../</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">cd</span> ../../</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">cd</span> ../../../</span></span><br></pre></td></tr></table></figure><p>../的数量代表层数</p><h3 id="切换到家目录"><a href="#切换到家目录" class="headerlink" title="切换到家目录"></a>切换到家目录</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">cd</span> /root</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">cd</span> 直接回车（推荐）</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">cd</span> ~</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">cd</span> ~/1</span></span><br></pre></td></tr></table></figure><p>推荐使用cd 直接回车<br>在需要进入加目录里的1文件时使用cd ~/1<br>cd - 回退到上一次目录</p><h2 id="目录（路径）"><a href="#目录（路径）" class="headerlink" title="目录（路径）"></a>目录（路径）</h2><p>绝对目录：/根目录开头，路径是齐全的<br>相对目录：不是以/开头，路径是短的</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">cd</span> 1</span></span><br></pre></td></tr></table></figure><p>相对目录</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">cd</span> /root/1</span></span><br></pre></td></tr></table></figure><p>绝对目录</p><h2 id="命令帮助-help"><a href="#命令帮助-help" class="headerlink" title="命令帮助 help"></a>命令帮助 help</h2><p>在使用命令不熟练时，可以通过help命令查看如何使用</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> mkdir --<span class="built_in">help</span></span></span><br></pre></td></tr></table></figure><p><img src="/img/studyone/studyonetwo.png" alt="avatar"><br>其中[OPTION]代表可选项<br>…代表可以有多个参数<br>DIRECTORY类似单独的大写字母代表必选项</p><h2 id="man"><a href="#man" class="headerlink" title="man"></a>man</h2><p>相比于help，是更为详细的命令帮助</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> man mkdir</span></span><br></pre></td></tr></table></figure><h2 id="clear"><a href="#clear" class="headerlink" title="clear"></a>clear</h2><p>清理屏幕</p><h2 id="mv-cp"><a href="#mv-cp" class="headerlink" title="mv cp"></a>mv cp</h2><p>mv 移动，始终是一份文件，快，类似于windows的剪切复制<br>cp 拷贝，最终有两份，慢，类似于windows的复制粘贴</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> mkdir dir1 dir2</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> mv dir1 dir2     非标准操作</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> mv dir1 dir2/dir1  标准操作</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> mv dir1 dir2/dir11 修改名称</span></span><br><span class="line">``` </span><br><span class="line">```shell</span><br><span class="line"><span class="meta">#</span><span class="bash"> mkdir dir1 dir2</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> cp -r dir1 dir2     非标准操作</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> cp -r dir1 dir2/dir1  标准操作</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> cp -r dir1 dir2/dir11 修改名称</span></span><br><span class="line">``` </span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 创建文件</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## touch</span></span></span><br><span class="line">创建一个空文件（推荐）</span><br><span class="line">```shell</span><br><span class="line"><span class="meta">#</span><span class="bash"> touch 1.log</span></span><br></pre></td></tr></table></figure><h3 id="vi"><a href="#vi" class="headerlink" title="vi"></a>vi</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> vi 2.log</span></span><br></pre></td></tr></table></figure><p>创建一个空文件，默认进入命令行模式<br>i键：从命令行模式进入INSERT模式，编辑模式<br>esc键：从编辑模式进入命令行模式<br>:键：从命令行变为尾行模式<br>数据wq保存（w保存，q退出）<br>:wq 保存退出<br>:wq! 强制保存退出<br>:q 强制退出</p><p>如果进入提示是swap file，只需要ll -a查看，然后进行删除即可<br>其中粘贴的坑，必须进入编辑模式，否则第一行会丢失数据【生产巨坑】</p><p>在命令行模式，常用的快捷方式：<br>dd 删除当前行<br>dG 删除当前行及以下所有行<br>ndd 删除当前行及以下n-1行<br>gg 跳转到第一行的第一个字母<br>G 跳转到最后一行的第一个字母<br>shift+$ 行尾<br>生产场景：window电脑的服务的配置文件内容修改过最新的，想要覆盖生产的文件<br>gg dG<br>i<br>从window电脑拷贝全局内容<br>到Linux的会话编辑模式中，按鼠标的右键，粘贴<br>esc<br>shfit+:  wq<br>完成，一气呵成</p><p>行号<br>尾行模式 set nu<br>去除行号 set nonu</p><h3 id="清空文件内容-为空文件"><a href="#清空文件内容-为空文件" class="headerlink" title="清空文件内容 为空文件"></a>清空文件内容 为空文件</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> cat /dev/null &gt; 3.log   </span></span><br></pre></td></tr></table></figure><p>推荐使用</p><h3 id="echo"><a href="#echo" class="headerlink" title="echo"></a>echo</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">echo</span><span class="string">&quot;&quot;</span> &gt; 1.log    </span></span><br></pre></td></tr></table></figure><p>慎用<br>“&gt;” 将文本内容覆盖掉 【高危命令】<br>如果怕错，可以先备份一下，养成好的习惯，例如 cp conf conf20201123<br>“&gt;&gt;”将文本内容追加</p><h2 id="查看文件内容"><a href="#查看文件内容" class="headerlink" title="查看文件内容"></a>查看文件内容</h2><h3 id="cat"><a href="#cat" class="headerlink" title="cat"></a>cat</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> cat 1.log</span></span><br></pre></td></tr></table></figure><p>显示所有内容，适合显示内容比较少的文件，ctrl+z中断（推荐）<br>如果文件内容多 定位ERROR或者其他关键词的信息</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> cat 1.log | grep ERROR</span></span><br></pre></td></tr></table></figure><p>当前行   | 管道符 grep过滤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> cat 1.log | grep -A 10 ERROR</span></span><br></pre></td></tr></table></figure><p>后十行</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> cat 1.log | grep -B 10 ERROR</span></span><br></pre></td></tr></table></figure><p>前十行</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> cat 1.log | grep -C 10 ERROR</span></span><br></pre></td></tr></table></figure><p>前后各十行</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> cat 1.log | grep -C 10 ERROR &gt; 2.log</span></span><br></pre></td></tr></table></figure><p>将ERROR信息输出到2.log，方便查看</p><h3 id="通过编辑去搜索"><a href="#通过编辑去搜索" class="headerlink" title="通过编辑去搜索"></a>通过编辑去搜索</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> vi 1.log</span></span><br></pre></td></tr></table></figure><p>输入：进入尾行模式，输入/ERROE，n键寻找</p><h3 id="more"><a href="#more" class="headerlink" title="more"></a>more</h3><p>按页显示内容，按空格一页一页下翻。ctrl+b回退，q退出（推荐）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> more 1.log</span></span><br></pre></td></tr></table></figure><h3 id="less"><a href="#less" class="headerlink" title="less"></a>less</h3><p>一行一行显示内容，按键盘上下键翻动，q键退出</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> less 1.log</span></span><br></pre></td></tr></table></figure><h3 id="tail"><a href="#tail" class="headerlink" title="tail"></a>tail</h3><p>实时查看文件内容<br>-f 加入文件被移除，然后重命名，就无法再监控到文件，例如log4j的规则</p><p>log4j的规则：日志大小为100M，保留10份<br>例如：erp.log</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> mv erp.log erp1.log</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> touch erp.log</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> mv erp.log erp2.log</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> touch erp.log</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>最终erp.log为空的，然后有erp1-10.log，每个100M</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> tail -F 1.log</span></span><br></pre></td></tr></table></figure><p>假如文件被移除，然后重命名，会不断retry，直到再次监控到该文件</p><p>想要查看文件内容倒数100行，且实时监控</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> tail -100f 1.log</span></span><br></pre></td></tr></table></figure><h2 id="上传下载"><a href="#上传下载" class="headerlink" title="上传下载"></a>上传下载</h2><p>可以将Linux中的日志文件下载到windows，再用windows的工具去查找ERROR<br>其中在使用notepad++的时候，注意Encode，不然会产生乱码</p><p>问题：将日志文件下载到windows，如果log源文件较大，那么下载的时候是不是走外网带宽，比如10M，会不会影响公司服务？<br>答：会影响公司其他人使用服务器，不影响专用的服务，业务高峰或者工作日白天尽量不要做，非要做建议使用工具ftp限速下载。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> yum install -y lrzsz</span></span><br></pre></td></tr></table></figure><p>安装工具包</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> sz 1.log</span></span><br></pre></td></tr></table></figure><p>从linux下载到window</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> rz 1.log</span></span><br></pre></td></tr></table></figure><p>从window上传到linux</p><h2 id="别名"><a href="#别名" class="headerlink" title="别名"></a>别名</h2><p>alias 命令别名<br>在生产上，常用的命令或者复杂的命令，可以使用别名简化，不错此命令不是全局生效的，如果要全局生效，可以使用全局变量<br>比如要cd到一个很深的目录，可以使用alias p=’cd /…/…/…/…’</p><h2 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h2><h3 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h3><p>全局变量：/etc/profile<br>设置好全局变量之后，可以使用</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">source</span> /etc/profile</span></span><br></pre></td></tr></table></figure><p>当前会话生效,已经开启的会话不会跟着自动生效，需要重新执行生效命令,新开的会话是自动的生效 </p><h3 id="个人变量"><a href="#个人变量" class="headerlink" title="个人变量"></a>个人变量</h3><p>~/.bash_profile<br>~/.bashrc 推荐</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">source</span> .bash_profile</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> . .bash_profile</span></span><br></pre></td></tr></table></figure><p>都可以使个人变量生效<br>场景：ssh远程执行B机器，启动服务命令，报错：java command not found；但是直接登陆B机器，命令可以找到<br><a href="https://blog.csdn.net/whitehack/article/details/51705889">https://blog.csdn.net/whitehack/article/details/51705889</a><br>结论：配置环境变量文件在 .bash_profile 是不正确的，应该配置在 .bashrc文件里。</p><h3 id="创建用户"><a href="#创建用户" class="headerlink" title="创建用户"></a>创建用户</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> useradd bee</span></span><br></pre></td></tr></table></figure><p>创建用户</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> id bee</span></span><br></pre></td></tr></table></figure><p>查看用户</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> passwd bee</span></span><br></pre></td></tr></table></figure><p>设置密码</p><h2 id="自动补全"><a href="#自动补全" class="headerlink" title="自动补全"></a>自动补全</h2><p>tab键一次，如果只有一个 命令自动补全，多个没响应<br>按两次 打印出当前匹配到的所有，再挑选</p><h2 id="历史命令"><a href="#历史命令" class="headerlink" title="历史命令"></a>历史命令</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">history</span></span></span><br></pre></td></tr></table></figure><p>查看历史命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">history</span> -C</span></span><br></pre></td></tr></table></figure><p>清空历史<br>如果要清空历史，直连服务器 ok，跳板机(vpn)、服务器 ok，堡垒机中，每一个命令，都记录，堡垒机系统里web界面可视化，会记录到清空历史命令。</p><h2 id="删除命令"><a href="#删除命令" class="headerlink" title="删除命令"></a>删除命令</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> rm 1.log</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> rm -r 1.log 会提示Y/N</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> rm -rf /   不提示，直接删除 高危命令</span></span><br></pre></td></tr></table></figure><p>场景：<br>如果变量LOG_PATH不存在，那么rm -rf ${LOG_PATH}/* 等价于 rm -rf /* ，非常致命<br>所以需要在每次删除之前，需要判断${LOG_PATH}是否存在<br>或者在shell脚本上，第二行加上set -u，脚本在头部加上它，遇到不存在的变量就会报错，并停止执行。 【推荐】</p><h2 id="用户和用户组"><a href="#用户和用户组" class="headerlink" title="用户和用户组"></a>用户和用户组</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ll /usr/sbin/user*  查看用户</span></span><br></pre></td></tr></table></figure><p>useradd 创建<br>userdel 删除，假如这个用户的用户组只有该用户，那么也会将用户组删除(面试题)<br>usermod 修改</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> useradd xx</span></span><br></pre></td></tr></table></figure><p>创建用户的同时也创建一个用户组xx，默认家目录/home/xx</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> id xx</span></span><br></pre></td></tr></table></figure><p>查看用户xx的信息</p><p>/etc/passwd 存放用户信息<br>xx:xx:1006:1007::/home/xx:/bin/bash<br>其中，** /bin/bash** 为当该用户进入Linux命令窗口的命令解释器</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ll /user/sbin/group*   查看用户组</span></span><br></pre></td></tr></table></figure><p>groupadd 创建<br>groupdel 删除<br>groupmod 修改<br>/etc/group 存放用户组信息<br>xx:x:1007:</p><h3 id="切换用户"><a href="#切换用户" class="headerlink" title="切换用户"></a>切换用户</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> su xx</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> su - xx</span></span><br></pre></td></tr></table></figure><p>‘-‘代表切换用户时执行该用户的环境变量，并且切换到家目录</p><h3 id="样式丢失"><a href="#样式丢失" class="headerlink" title="样式丢失"></a>样式丢失</h3><p><strong>1.如果删除用户的环境变量，那么会出现样式丢失</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> rm -f /home/xx/.bash*</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> su - xx</span></span><br></pre></td></tr></table></figure><p>会出现：-bash-4.2$，而不是以中括号括起来<br>也就是当前用户的所属家目录的个人环境变量文件不存在</p><p>个人环境变量文件可以从其他地方复制过来</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> cp /etc/skel/.* /home/xx/</span></span><br></pre></td></tr></table></figure><p>再重新登录即可恢复样式<br><strong>2.一个用户默认创建的家目录是/home/xx，但是后期可以修改</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> usermod -d /tmp xx</span></span><br></pre></td></tr></table></figure><p>也会出现样式丢失，默认登录进去的目录为设置的/tmp</p><h3 id="添加用户到用户组"><a href="#添加用户到用户组" class="headerlink" title="添加用户到用户组"></a>添加用户到用户组</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> groupadd dw</span></span><br></pre></td></tr></table></figure><p>添加用户组</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> usermod -a -G dw xx</span></span><br></pre></td></tr></table></figure><p>添加用户xx到用户组dw<br>-a 追加<br>-G new list of supplementary GROUPS 新的补充/附加组列表<br><strong>题目：想要把xx这个用户的主族和附加组调换</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> usermod -g dw xx强制dw为xx的主族，但是会丢失xx附加组</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> usermod -aG xx xx增加xx附加组</span></span><br></pre></td></tr></table></figure><h3 id="查看用户组成员"><a href="#查看用户组成员" class="headerlink" title="查看用户组成员"></a>查看用户组成员</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> groupmwms -g xx -l</span></span><br></pre></td></tr></table></figure><h2 id="passwd文件"><a href="#passwd文件" class="headerlink" title="passwd文件"></a>passwd文件</h2><p>1.passwd文件中的<br>xx:x:1006:1008::/tmp:/bin/bash<br>被换成<br>xx:xx:1006:1007::/home/xx:/sbin/nologin<br>显示：This account is currently not avaliable</p><p>2.被换成<br>xx:xx:1006:1007::/home/xx:/bin/false<br>则不准登录，或者切换用户没起作用</p><p>例如CDH部署，hdfs，hbase等用户，su - hdfs切不过去，原因就在 /bin/false<br>jps命令查看都是不可用的<br>su - hdfs之前，将/bin/false改为/bin/bash即可</p><h2 id="su-sudo"><a href="#su-sudo" class="headerlink" title="su sudo"></a>su sudo</h2><p>su xx 切换用户<br>su - xx 切换用户 进入家目录 且执行该用户环境变量文件 .bashrc<br>sudo 普通用户临时使用root的最大权限<br>在/etc/sudoers中配置，使用户有sudo权限</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> sudo cat /root/1.log</span></span><br></pre></td></tr></table></figure><p>有root权限查看1.log<br>生产场景：用户的权限不满足需求，需要更高的，假如IT 和公司管理制度都还好，就要求加sudo权限。<br>否则碰见这种权限错误的操作，只能让对应的IT人员操作。</p><h2 id="权限"><a href="#权限" class="headerlink" title="权限"></a>权限</h2><p><strong>d rwx r-x r-x</strong><br><strong>- rw- r– r–</strong><br>第一个字符 d 代表文件夹 - 代表文件<br>接下来三个字母分别代表 读r4 写w2 执x1 -没有任何权限<br>第一组：rw- 文件或文件夹的所属用户，只有读写权限，没有执行权限<br>第二组：r– 文件或文件夹的所属用户组的成员，只有读权限<br>第三组：r– 其他用户组的成员对这个文件或文件夹的权限，只有读写权限<br><strong>权限错误的根本原因，当前用户对文件或文件夹的操作，不符合其拥有的权限</strong></p><h2 id="权限命令"><a href="#权限命令" class="headerlink" title="权限命令"></a>权限命令</h2><p>chmod -R 777 文件或文件夹<br>chown -R 用户或用户组 文件或文件夹<br>这是两个为数不多的经常会使用的-R参数的命令</p><h2 id="大小"><a href="#大小" class="headerlink" title="大小"></a>大小</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ll -h 1.log</span></span><br></pre></td></tr></table></figure><p>查看文件大小</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> du -sh /usr/<span class="built_in">local</span></span></span><br></pre></td></tr></table></figure><p>查看文件夹大小</p><h2 id="find"><a href="#find" class="headerlink" title="find"></a>find</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> find / -name <span class="string">&#x27;*hadoop*&#x27;</span></span></span><br></pre></td></tr></table></figure><p>从根目录搜索名字中带hadoop的文件和文件夹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> find /home -name <span class="string">&#x27;*hadoop*&#x27;</span></span></span><br></pre></td></tr></table></figure><p>从home目录搜索名字中带hadoop的文件和文件夹</p><h2 id="磁盘"><a href="#磁盘" class="headerlink" title="磁盘"></a>磁盘</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> df -h</span></span><br></pre></td></tr></table></figure><p>查看结果中以/开头的是我们想要的信息</p><h2 id="内存"><a href="#内存" class="headerlink" title="内存"></a>内存</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> free -m</span></span><br></pre></td></tr></table></figure><p>预留内存最好在15%<br>swap 因为内存不够，使用部分磁盘空间来充当内存使用，虽然可以解决内存紧缺的问题，但是效率不高。<br>尤其大数据，swap哪怕设置了大小 ，也尽量设置惰性使用。设置参数=0</p><h2 id="机器负载"><a href="#机器负载" class="headerlink" title="机器负载"></a>机器负载</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> top</span></span><br></pre></td></tr></table></figure><p>load average 生产上尽量控制在10，否则服务器就认为卡<br>若服务器卡 原因有：1.计算程序 hive sql、spark、flink 密集计算 是不是要调优<br>2.是不是被挖矿了<br>3.硬件问题，内存条损坏。解决方案 万能重启，检测是不是硬件问题。</p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>yum search 包名称<br>yum install -y httpd    安装<br>yum remove telnet    卸载</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> rpm -qa | grep httpd</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> rpm -e httpd-tools-2.4.6-93.el7.centos.x86_64</span></span><br></pre></td></tr></table></figure><h2 id="进程"><a href="#进程" class="headerlink" title="进程"></a>进程</h2><p>ps -ef | grep 进程名称</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ps -ef | grep http</span></span><br></pre></td></tr></table></figure><p>会匹配多个，如果要杀死进程得确定是否是自己想要杀的进程<br><strong>杀死进程</strong><br>kill -9 pid 高危命令<br>kill -9 111 112 113   三个进程一起杀<br>杀进程前要确定杀的都是想杀的，不要误杀。误杀会造成生产事故<br>全局杀<br>kill -9 $(pgrep -f 匹配字符)<br>kill -9 6148 6251 7485 7624 7797 21892 30993</p><h2 id="端口号"><a href="#端口号" class="headerlink" title="端口号"></a>端口号</h2><p>netstat -nlp | grep pid</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> netstat -nlp | grep 709</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> netstat -nlp | grep http</span></span><br></pre></td></tr></table></figure><p>:::80、0.0.0.0:80、192.168.1.101:80 80端口号服务可以对外，window或者其他服务器 可以ip+80 进行访问的<br>localhost:80、127.0.0.1:80 localhost 、127.0.0.1 代表本机，80端口仅限本机的其他服务可以访问，window或者其他服务器无法访问</p><p>总结：<br>a.有进程PID 不一定就有端口号<br>b.服务的通信交流，其实就是要 ip+端口号<br><strong>机器上运行xxx服务，把那个web打开一下 ？</strong><br>ip<br>ps -ef | grep xxx 找到pid<br>netstat -nlp| grep pid 找到对应端口号<br><a href="http://114.67.101.143/">http://114.67.101.143:80/</a><br><a href="http://114.67.101.143/">http://114.67.101.143/</a></p><p>window: 提前安装telnet客户端<br>linux : yum install -y telnet<br>window/linux去检测服务是否ok: telnet ip port<br>先 ping ip<br>再 telnet ip port</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">telnet 114.67.101.143 221</span><br></pre></td></tr></table></figure><p>Trying 114.67.101.143…   Connection refused   【错误3】<br>window电脑去访问 服务器的服务<br>    先 ping ip<br>    再 telnet ip port<br>linux机器去访问  服务器的服务<br>    先 ping ip<br>    再 telnet ip port</p><h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><p>wget命令</p><h2 id="压缩-解压"><a href="#压缩-解压" class="headerlink" title="压缩 解压"></a>压缩 解压</h2><p>zip -r xxx.zip  xxx/*<br>unzip xxx.zip</p><p>tar -czvf  xxx.tar.gz xxx/*<br>tar -xzvf  xxx.tar.gz</p><h2 id="command-not-found"><a href="#command-not-found" class="headerlink" title="command not found"></a>command not found</h2><p>没有安装<br>没有配置环境变量<br>export JAVA_HOME=/usr/java/jdk1.8.0_181<br>export PATH=$JAVA_HOME/bin:$PATH   前 【推荐】<br>export PATH=$PATH:$JAVA_HOME/bin   后</p><h2 id="定时"><a href="#定时" class="headerlink" title="定时"></a>定时</h2><p>crontab -l 查看<br>crontab -e 编辑 就是编辑一个定时器文件内容<br> 代码* * * * * sleep 10s; date &gt;&gt; /root/ruoze2.log<br>每个* 分别代表分、小时、日、月、周，* 标识 每<br><strong>面试题：每隔10s 打印一次</strong><br>写脚本</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> vi 1.sh</span></span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">set -u</span><br><span class="line"></span><br><span class="line">for((i&#x3D;1;i&lt;&#x3D;6;i++));</span><br><span class="line">do</span><br><span class="line">date</span><br><span class="line">sleep 10s</span><br><span class="line">done</span><br><span class="line">exit 0</span><br></pre></td></tr></table></figure><h2 id="后台执行"><a href="#后台执行" class="headerlink" title="后台执行"></a>后台执行</h2><p>nohup …..   &amp;   后台执行<br>nohup /root/aa.sh &gt;&gt; /root/bb.log 2&gt;&amp;1 &amp;   执行aa.sh脚本输出到bb.log日志</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Linux常用命令&quot;&gt;&lt;a href=&quot;#Linux常用命令&quot; class=&quot;headerlink&quot; title=&quot;Linux常用命令&quot;&gt;&lt;/a&gt;Linux常用命令&lt;/h1&gt;&lt;h2 id=&quot;pwd&quot;&gt;&lt;a href=&quot;#pwd&quot; class=&quot;headerlink</summary>
      
    
    
    
    
    <category term="linux" scheme="http://example.com/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://example.com/2020/11/16/hello-world/"/>
    <id>http://example.com/2020/11/16/hello-world/</id>
    <published>2020-11-16T08:18:32.269Z</published>
    <updated>2020-11-16T08:18:32.269Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot;&gt;documentation&lt;/a&gt; for</summary>
      
    
    
    
    
  </entry>
  
</feed>
